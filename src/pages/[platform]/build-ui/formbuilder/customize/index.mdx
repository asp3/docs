import { getCustomStaticPath } from '@/utils/getCustomStaticPath';

export const meta = {
  title: 'Customize form inputs',
  description: 'Use the Form Builder in Amplify Studio to customize React form components. You can add new form inputs, bind them to a field, customize labels, and add validation rules.',
  platforms: [
    'javascript',
    'react',
    'nextjs'
  ],
  canonicalObjects: [
    {
      platforms: [
        'javascript',
        'react',
        'nextjs'
      ],
      canonicalPath: '/gen1/javascript/build-ui/formbuilder/customize/'
    }
  ]
};

export const getStaticPaths = async () => {
  return getCustomStaticPath(meta.platforms);
};

export function getStaticProps(context) {
  return {
    props: {
      platform: context.params.platform,
      meta
    }
  };
}

In this guide, you will learn how to customize connected forms that are generated by running `npx amplify generate forms`. Before you begin you will need: 

- Your cloud sandbox with an Amplify Data resource up and running (npx amplify sandbox)
- A frontend application that has [generated a connected form](/[platform]/build-ui/formbuilder/)


All Amplify forms are built with the [Amplify UI library](https://ui.docs.amplify.aws/). The generated form provides a mechanism to override properties for each individual input component, like [TextField](https://ui.docs.amplify.aws/react/components/textfield), [TextAreaField](https://ui.docs.amplify.aws/react/components/textareafield), [SelectField](https://ui.docs.amplify.aws/react/components/selectfield). You can override any props to those components with the `overrides` prop on the form component. For example, if you want to change the variation and label of the `content` field in the TodoCreateForm:

```jsx
import TodoCreateForm from '@/ui-components/TodoCreateForm'

<TodoCreateForm
  // highlight-start
  overrides={{
    content: {
      variation: 'quiet',
      label: 'Todo'
    }
  }}
  // highlight-end
/>
```

<Callout>

Note: We do not recommend overriding properties that are already set by the generated form. This could lead to unexpected behavior during runtime. Verify the set properties by navigating to the component in the src/ui-components/[your-form-component].jsx file.

</Callout>

## Configure form spacings (paddings and gaps)

Add spacing to your form and between inputs. Spacing values can either be a CSS length value (`px`, `rem`, `em`, `%`) or a reference to your theme object's spacing value (`xss`, `medium`, `large`).

```js
import TodoCreateForm from '@/ui-components/TodoCreateForm'

<TodoCreateForm overrides={{
  // highlight-start
  TodoCreateForm: {
    rowGap: 'xl',    // horizontal gap between inputs
    columnGap: 'xs', // vertical gap between inputs
    padding: 'xl',   // padding around form
  },
  // highlight-end
}} />
```


## Customize label for Submit and Clear buttons

You can customize action button labels to better describe your form's use case, such as changing `Submit` to `Create Todo`.

```js
import TodoCreateForm from '@/ui-components/TodoCreateForm'

<TodoCreateForm overrides={{
  // highlight-start
  ClearButton: {
    children: 'Close'
  },
  SubmitButton: {
    children: 'Save todo'
  }
  // highlight-end
}} />
```

## Toggle visibility for Submit and Clear buttons

You can customize the visibility of action buttons to better accommodate your form's use case.

```js
import TodoCreateForm from '@/ui-components/TodoCreateForm'

<TodoCreateForm overrides={{
  // highlight-start
  ClearButton: {
    display: 'none'
  },
  SubmitButton: {
    display: 'none'
  }
  // highlight-end
}} />
```

If you hide all form action buttons, you can still leverage the [`onChange` event handler](/gen1/[platform]/build-ui/formbuilder/lifecycle/#get-form-data-as-your-user-inputs-data---onchange) to self-manage the form lifecycle. This is useful for a form that updates data in real-time without explicit user confirmation.


```jsx
import TodoCreateForm from '@/ui-components/TodoCreateForm'

<TodoCreateForm
  // highlight-start
  onChange={(fields) => {
    console.log({ fields })
    // make sure you return fields!
    return fields
  }}
  // highlight-end
/>
```
